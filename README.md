# AssetTracker (Telegram-bot)
Телеграм бот **демо-счет** криптовалютной биржи. CRUD операции над активами, просмотр статистики по активам, торговля с нейросетью и возможность писать в поддержку с дальнейшей обработкой этих вопросов администратором через защищенный Spring Security сайт.
<details>
<summary>подробнее</summary>  

.  
* **Full CRUD управление портфелем:**  
Пользователь может гибко управлять своими активами в режиме реального времени.
* **Интеллектуальный помощник:**  
Интеграция с нейросетью для анализа рынка и принятия торговых решений.
* **Система Helpdesk:**  
Двусторонняя связь с администратором. Вопросы пользователей попадают в защищенный бэк-офис для обработки модератором.
* **DevOps-ready:**  
Проект спроектирован по принципу Cloud Native и готов к деплою в любую среду. Инструкция по запуску намеренно опущена, так как работа приложения завязана на внешние платные API. Однако наличие Dockerfile, docker-compose.yml и тестов на TestContainers позволяет убедиться в корректности сборки и интеграции компонентов без фактического наличия ключей.
* **Quality Assurance:**  
Стабильность кода подтверждена Unit-тестами и интеграционным тестированием с использованием TestContainers для эмуляции реальной среды базы данных. Тестируется security, а также async части.
</details>

## ⚙Технологии
### приложение
- Spring Boot (Security, Web, Data, Cache)
- PostgreSQL
- Redis
- Docker
- MapStruct
- Lombok
- TelegramBots
### тесты
- JUnit
- Mockito
- TestContainers
- Liquibase
- Awaitility

## Панель администратора
![admin-panel.png](src/main/resources/static/admin-panel.png)
>Панель для обработки пользовательских вопросов или жалоб, ответ сразу отправляется нужному пользователю в чат. Реализован поиск всех вопросов какого-то юзера по его ID или по содержанию.

✅ Сайт защищен через Spring Security не только на уровне URL, но и на уровне методов.  
✅ Реализована защита от CSRF  

## Телеграм Бот

<img src="https://github.com/user-attachments/assets/92293095-9a2f-4704-a8f4-232031fad7d4" width="48%"> <img src="https://github.com/user-attachments/assets/bf9b8482-ede2-4504-b5f1-c2a1d1710778" width="51%">
<img src="https://github.com/user-attachments/assets/efa41765-d76a-466c-8668-869e3b3777ac" width="51%"> <img src="https://github.com/user-attachments/assets/86e66fb3-3fca-447c-b922-4d7da944b9ec" width="48%">
<img src="https://github.com/user-attachments/assets/09a4c7b7-3381-4a89-9f2f-54e97ef57d67" width="48%"> <img src="https://github.com/user-attachments/assets/5a5a5c4b-cafb-4e70-8bb1-e4345e30cffa" width="51%">
<img src="https://github.com/user-attachments/assets/02876097-eeff-4fcb-8d62-a9485deefe65" width="53%"> <img src="https://github.com/user-attachments/assets/8410d5f0-4c12-470b-9d50-ecb59ac04d50" width="46%">
<img src="https://github.com/user-attachments/assets/eab4ba7b-3037-4f1e-8f3a-ee00dc4c2bc6" width="49%"> <img src="https://github.com/user-attachments/assets/faf2056e-f92b-4236-9232-a3702c1132f8" width="50%">
>Это не все возможности бота, например для удобства я не показал профиль, меню для написания вопроса в поддержку, меню ввода количества монет, меню для некорректного добавления/удаления/обновления монеты (например пользователь обновляет монету которой у него нет), а также пример ответа от нейросети, но основные возможности бота были продемонстрированы.  

### Технические аспекты и архитектура
- **Событийно-ориентированная архитектура:**  
Бот реализован на базе Long-polling с многопоточной обработкой обновлений. Внедрена кастомная система идентификации действий: каждое событие инкапсулируется в Event и передается специализированным хендлерам (Button/Message Handlers), что обеспечивает слабую связность компонентов.
- **Финансовая точность:**  
Все операции с балансами и котировками реализованы через BigDecimal с соблюдением стандартов точности для финтех-приложений, что исключает ошибки округления при расчетах.
- **Интеграция с Redis и отказоустойчивость:**  
Реализована стратегия Graceful Degradation: при сбое кэша приложение сохраняет работоспособность, переключаясь на резервные механизмы.
- **Безопасность и администрирование:**  
Доступ к панели управления поддержкой защищен Spring Security включая CSRF защиту. Все чувствительные данные (API-ключи, учетные данные БД) вынесены в переменные окружения, работа с которыми стандартизирована через .env.example.
- **Контроль ресурсов и внешних API:**  
Для защиты от перегрузок и оптимизации затрат на AI-интеграции внедрен Rate Limiter.
- **Чистый код и логирование:**  
Использован AOP (Aspect-Oriented Programming) для реализации сквозной логики логирования и мониторинга, что позволило освободить бизнес-логику от побочного кода.
